## vpath分支版本介绍

### 目的
vpath（virtual path）,除了默认指向一个静态文件之外，提供了以下功能：
1. 实现了根据租户的不同，优先到对应的租户文件夹下查找资源文件，如果找到则用来替换默认文件夹中的资源。
2. 可以把根路径映射到文件夹下某个子文件夹，这样就可以实现根应用和子应用并列部署在同一级文件夹。
3. 租户根据请求的域名来区分，在vpath.config.toml中定义。

### 部署
使用docker部署时，启动时可以不指定path参数，这时默认的根文件夹是vpath主文件夹下的public文件夹，把该文件夹映射到主机中，就可以在文件中部署支持租户定制功能的静态网站了。
vpath.config.toml配置文件目前约定在public下，没有在启动参数中提供指定配置文件位置的功能。

### 在仲达案件系统中的应用

目前仲达的前端应用项目都放置在同一个文件夹下（根应用和子应用是同一级的兄弟文件夹），然后在nginx中分别就各个应用（包括根应用和子应用）分别指向到对应的文件夹。
所以，在不改变现有acmis前端的部署，通过配置，把vpath的public指向前端部署的父文件夹，直接在nginx中启动vpath，系统应该能正常运行。
另外，使用了vpath之后，在nginx中子应用的配置项其实可以不需要了，但是考虑到vpath的性能，保留nginx设置不把请求交给vpath处理。

